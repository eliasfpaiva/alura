<!DOCTYPE html>
<html>
<head>
	<title>Esquadro</title>
	<meta charset="utf-8">
</head>
	<body>
		
		<canvas id="tela" width="600" height="600"></canvas>
		
		<script type="text/javascript">
			var tela = document.querySelector('#tela');
			var pincel = tela.getContext('2d');
			var posicaoXAlvo, posicaoYAlvo;
			pincel.fillStyle = 'lightgrey';
			pincel.fillRect(0, 0, 600, 600);

			function desenhaCirculo(x, y, raio, cor){
				
				pincel.fillStyle = cor;
				pincel.beginPath();
				pincel.arc(x, y, raio, 0, 2 * Math.PI);
				pincel.fill();
			}

			function sorteiaPosicao(){ return Math.floor(Math.random() * 600); }

			function desenhaAlvo(x, y){
				desenhaCirculo(x, y, 30, 'red');
				desenhaCirculo(x, y, 20, 'white');
				desenhaCirculo(x, y, 10, 'red');
				desenhaCirculo(x, y, 5, 'white');
				desenhaCirculo(x, y, 1, 'red');
				posicaoXAlvo = x;
				posicaoYAlvo = y;
			}

			function mostraAlvoAleatorio(){
				pincel.clearRect(0, 0, 600, 600);
				pincel.fillStyle = 'lightgrey';
				pincel.fillRect(0, 0, 600, 600);
				desenhaAlvo(sorteiaPosicao(), sorteiaPosicao());
			}

			setInterval(mostraAlvoAleatorio, 2000);

			function dispara(evento){
				var x = evento.pageX - tela.offsetLeft;
				var y = evento.pageY - tela.offsetTop;
				if(x <= posicaoXAlvo + 1 && x >= posicaoXAlvo - 1 && y <= posicaoYAlvo + 1 && y >= posicaoYAlvo - 1)
					alert('NA MOOOOOOOOOOOOOOOOOOSSSSSSSSCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 30 pontos!');
				else if(x <= posicaoXAlvo + 5 && x >= posicaoXAlvo - 5 && y <= posicaoYAlvo + 5 && y >= posicaoYAlvo - 5)
					alert('Muito bom 20 pontos!');
				else if(x <= posicaoXAlvo + 10 && x >= posicaoXAlvo - 10 && y <= posicaoYAlvo + 10 && y >= posicaoYAlvo - 10)
					alert('Bom tiro 10 pontos!');
				else if(x <= posicaoXAlvo + 20 && x >= posicaoXAlvo - 20 && y <= posicaoYAlvo + 20 && y >= posicaoYAlvo - 20)
					alert('Acertou 5 pontos!');
				else if(x <= posicaoXAlvo + 30 && x >= posicaoXAlvo - 30 && y <= posicaoYAlvo + 30 && y >= posicaoYAlvo - 30)
					alert('Quaaaaaaaaaase errou, mas, ganhou 1 ponto!');
			}

			tela.onclick = dispara;
		</script>
	</body>
</html>